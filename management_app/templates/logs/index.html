{% extends 'base.html' %}

{% block title %}Logs{% endblock %}
{% block header %}Logs{% endblock %}

{% block header_content %}
    <nav class="navbar navbar-expand-sm bg-light">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/logs/exception">Exception</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logs/general">General</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
{% endblock %}

{% block content %}


    <div class="row" style="margin: 20px 0;">


        <div class="panel-footer" style="height:800px; overflow: auto;">
            <table
                    id="table-exception"
                    data-filter-control="true"
                    data-show-search-clear-button="true"
                    data-sortable="true"
                    data-height="800"
                    searchOnEnterKey="true"
                    data-pagination="false"
                    data-show-columns="false"
                    class="table-responsive"
                    classes="table-sm"
            >
                <thead>
                <tr>
                    <th data-field="timeStamp" data-filter-control="datepicker" data-sortable="True"
                        data-filter-order-by="desc">Time Stamp
                    </th>
                    <th data-field="owner" data-filter-control="select" data-sortable="True">Owner</th>
                    <th data-field="affected" data-filter-control="select" data-sortable="True">Affected Faculty
                        Member
                    </th>
                    <th data-field="exception" data-filter-control="select" data-sortable="True">Exception
                        Category
                    </th>
                    <th data-field="reason" data-filter-control="input" data-sortable="True">Reason</th>

                </tr>
                </thead>
                <tbody>
                {% for exception_log in exception_logs %}
                    <tr>
                        <td>{{ exception_log['timeStamp'] }}</td>
                        <td>{{ exception_log['owner'] }}</td>
                        <td>{{ exception_log['affected'] }}</td>
                        <td>{{ exception_log['exception'] }}</td>
                        <td>{{ exception_log['reason'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>


{% endblock %}

{% block scripts %}
    <script>
        $(function () {
            $('#table-exception').bootstrapTable()
        })
    </script>
{% endblock scripts %}